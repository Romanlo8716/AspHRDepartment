@model Laba1.Models.ViewModels.DescriptionsWorker

@{
    ViewData["Title"] = "Intelligence";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="/js/intlTelInput.min.js" charset="utf-8"></script>

<link rel="stylesheet" href="~/css/styleWorkerIntelligence.css" />
<h2 class="nameWorker">@Html.DisplayFor(model => model.worker.Surname)  @Html.DisplayFor(model => model.worker.Name)  @Html.DisplayFor(model => model.worker.Middlename)</h2>


<div class="searchDescWorker">
    <a href="#tableDepartmentId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Отделы и должности</div></div>
    </a>

    <a href="#tableMilitaryId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Военный билет</div></div>
    </a>

    <a href="#tableLaborId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Трудовая книга</div></div>
    </a>

    <a href="#tableEducationId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Образование</div></div>
    </a>

    <a href="#tableVacationId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Отпуска</div></div>
    </a>

    <a href="#tableMedicalId" style="text-decoration:none;">
        <div class="DepWorker"><div style="margin-top:5px;">Медицинская книга</div></div>
    </a>

</div>

<div class="ourInform">

   <div class="boxImage">

        <input type="hidden" name="Photo" value="@Model.worker.Photo" />
        @if (ViewBag.Photodata != null)
        {
            <img class="image" 
                 src="data:image/jpeg;base64,@(Convert.ToBase64String(ViewBag.Photodata))">
        }

   </div>

   <div class="lickInform">
        <h5 class="logoLichInform">Личные данные</h5>
        <div class="boxLichInform">
            <div style="margin-top:15px; margin-left:15px;">
                <div style="color:rgb(108,112,115);display:inline-block;">@Html.DisplayNameFor(model => model.worker.DateOfBirth):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Model.worker.DateOfBirth.ToString("d")
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;">@Html.DisplayNameFor(model => model.worker.Gender):</div>
                <div style="font-size:16px; display:inline-block;margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.Gender)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;">Место проживания:</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.CityHabitation), @Html.DisplayFor(model => model.worker.StreetHabitation), @Html.DisplayFor(model => model.worker.HouseHabitation)
                </div>
                <br>
                <br>
              

                <h6 style="text-align:center;">Данные о семье</h6>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.FamilyStatus):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.FamilyStatus)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.Children):</div>
                <div style="font-size:16px; display:inline-block;margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.Children)
                </div>
                <br>
                 <br>

                <h6 style="text-align:center;">Контактная информация </h6>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.Phone):</div>
                <div style="font-size:16px; display:inline-block;margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.Phone)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.Email):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.Email)
                </div>
                <br>

            </div>
        </div>
    </div>

    <div class="passInform">
        <h5 class="logoLichInform">Паспортные данные</h5>
        <div class="boxLichInform">
            <div style="margin-top:15px; margin-left:15px;">

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.SeriesPass):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.SeriesPass)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.NumberPass):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.NumberPass)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;">  @Html.DisplayNameFor(model => model.worker.IssuedByWhom):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.IssuedByWhom)
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.DateOfIssue):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Model.worker.DateOfIssue.ToString("d")
                </div>
                <br>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.DivisionCode):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.DivisionCode)
                </div>
                <br>
                <br>

                <h6 style="text-align:center;">СНИЛС</h6>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.NumberSnils):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.NumberSnils)
                </div>
                <br>
                <br>
             
                <h6 style="text-align:center;">ИНН </h6>

                <div style="color:rgb(108,112,115);display:inline-block;"> @Html.DisplayNameFor(model => model.worker.NumberInn):</div>
                <div style="font-size:16px; display:inline-block; margin-right:40px;float: right;">
                    @Html.DisplayFor(model => model.worker.NumberInn)
                </div>
                <br>

            
            </div>
        </div>
    </div>
</div>


@if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
{
    <a style="text-decoration:none" asp-action="Edit" asp-route-id="@Model?.worker.Id">
        <div class="editButton">

            <p class="centered"> Изменить данные</p>
        </div>
    </a>
}

     


        <div class="boxDescWorker">
    <h5 style="margin-left:30px">Описание сотрудника &nbsp; &nbsp;</h5>

        

        <textarea asp-for="worker.DescriptionWorker" id="summernote" style="height:200px;overflow-y: scroll;   border: 1px solid rgb(226,226,226); font-size:18px;">
            @*@Html.DisplayFor(model => model.worker.DescriptionWorker)*@
            
        </textarea>
        </div>

   


    <div style="margin-top:55px;">
    <hr />

        <table id="tableDepartmentId">
            <tbody>

                <tr>
                    <td>
                        <h3>Отделы и должности сотрудника &nbsp; &nbsp;</h3>
                    </td>
                  
                    <td>
                        <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="DepartmentsAndPostsOfWorkers" asp-action="AddDepartment" asp-route-id="@Model?.worker.Id"> Добавить в новый отдел</a> <span> | </span>

                        }
                        
                            <a asp-controller="Departments" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр всех отделов </a>
                        </h5>
                    </td>
                 
                </tr>
            </tbody>
        </table>

            <div style="background-color: white; height:200px;overflow-y: scroll; border: 1px solid rgb(150,150,150)">
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.departmentsAndPostsOfWorkers.First().Department)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.departmentsAndPostsOfWorkers.First().Post)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.departmentsAndPostsOfWorkers)
                {
                   
                        <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Department.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Post.Title)
                        </td>

                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                            {
                           
                            
                                <td>
                                <a asp-controller="DepartmentsAndPostsOfWorkers" asp-action="Edit" asp-route-id="@item.Id">Изменить</a> |
                                <a asp-controller="DepartmentsAndPostsOfWorkers" asp-action="Details" asp-route-id="@item.Id">Подробнее</a> |
                                <a asp-controller="DepartmentsAndPostsOfWorkers" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                                </td>
                            
                            
                        }
                        else
                        {

                        }
                    </tr>
                    
                }
            </tbody>
        </table>
            </div>
            <br />
        <table id="tableMilitaryId">
            <tbody>

                <tr>
                    <td>
                        <h3>Данные военного билета &nbsp; &nbsp;</h3>
                    </td>
                    <td>
                        <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="Militarys" asp-action="AddMilitary" asp-route-id="@Model?.worker.Id">Добавить</a> <span> | </span>
                        }
                      
                            <a asp-controller="Militarys" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр</a>
                        </h5>
                    </td>
                </tr>
            </tbody>
        </table>

            <div style="background-color: white; height:200px; border: 1px solid rgb(150,150,150);">
            
        <div style="margin-top:10px; margin-left:10px;">
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.military_title)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.military_title)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.shelf_life)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.shelf_life)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.stock_category)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.stock_category)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.profile)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.profile)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.vus)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.vus)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.worker.name_kommis)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.worker.name_kommis)
                </dd>

            </dl>
                </div>
        </div>
        <br />
    <table id="tableLaborId">
        <tbody>
       
            <tr>
                <td>
                        <h3>Данные трудовой книги &nbsp; &nbsp;</h3>
                </td>
                <td>
                    <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="LaborBooks" asp-action="AddLaborBook" asp-route-id="@Model?.worker.Id">   Добавить</a> <span> | </span>
                        }
                        <a asp-controller="LaborBooks" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр</a>
                    </h5>
                </td>
            </tr>
        </tbody>
    </table>

            <div style="background-color: white; height:200px;overflow-y: scroll; border: 1px solid rgb(150,150,150);">

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.laborBooks.First().dateRecord)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.laborBooks.First().nameWork)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.laborBooks.First().intelligenceWork)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.laborBooks.First().nameDocument)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.laborBooks.First().numberDocument)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.laborBooks)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.dateRecord)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.nameWork)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.intelligenceWork)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.nameDocument)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.numberDocument)
                        </td>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <td>
                                <a asp-controller="LaborBooks" asp-action="Edit" asp-route-id="@item.Id">Изменить</a> |
                                <a asp-controller="LaborBooks" asp-action="Details" asp-route-id="@item.Id">Подробнее</a> |
                                <a asp-controller="LaborBooks" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                            </td>
                        }
                        else
                        {

                        }
                    </tr>
                }
            </tbody>
        </table>
        </div>
        <br />
        <table id="tableEducationId">
            <tbody>

                <tr>
                    <td>
                        <h3>Данные об образованиях &nbsp; &nbsp;</h3>
                    </td>
                    <td>
                        <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="Educations" asp-action="AddEducation" asp-route-id="@Model?.worker.Id">   Добавить</a> <span> | </span>
                        }
                            <a asp-controller="Educations" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр</a>
                        </h5>
                    </td>
                </tr>
            </tbody>
        </table>

            <div style="background-color: white; height:200px;overflow-y: scroll; border: 1px solid rgb(150,150,150);">

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.educations.First().diplomSeries)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.educations.First().diplomNumber)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.educations.First().special)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.educations.First().yearEnd)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.educations)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.diplomSeries)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.diplomNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.special)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.yearEnd)
                        </td>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <td>
                                <a asp-controller="Educations" asp-action="Edit" asp-route-id="@item.Id">Изменить</a> |
                                <a asp-controller="Educations" asp-action="Details" asp-route-id="@item.Id">Подробнее</a> |
                                <a asp-controller="Educations" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                            </td>
                        }
                        else
                        {

                        }

                    </tr>
                }
            </tbody>
        </table>

        </div>

        <br />
        <table id="tableVacationId">
            <tbody>

                <tr>
                    <td>
                        <h3>Данные об отпусках &nbsp; &nbsp;</h3>
                    </td>
                    <td>
                        <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="Vacations" asp-action="AddVacation" asp-route-id="@Model?.worker.Id">Добавить</a> <span> | </span>
                        }
                            <a asp-controller="Vacations" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр</a>
                        </h5>
                    </td>
                </tr>
            </tbody>
        </table>

            <div style="background-color: white; height:200px;overflow-y: scroll; border: 1px solid rgb(150,150,150);">
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.vacations.First().dateStart)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.vacations.First().dateEnd)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.vacations.First().typeVacation)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.vacations)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.dateStart)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.dateEnd)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.typeVacation)
                        </td>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <td>
                                <a asp-controller="Vacations" asp-action="Edit" asp-route-id="@item.Id">Изменить</a> |
                                <a asp-controller="Vacations" asp-action="Details" asp-route-id="@item.Id">Подробнее</a> |
                                <a asp-controller="Vacations" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                            </td>
                        }
                        else
                        {

                        }
                    </tr>
                }
            </tbody>
        </table>
        </div>
        <br />
        <table id="tableMedicalId">
            <tbody >

                <tr>
                    <td>
                        <h3>Данные медицинской книги &nbsp; &nbsp;</h3>
                    </td>
                    <td>
                        <h5>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <a asp-controller="MedicalBooks" asp-action="AddMedicalBook" asp-route-id="@Model?.worker.Id">   Добавить</a> <span> | </span>
                        }
                            <a asp-controller="MedicalBooks" asp-action="Index" asp-route-id="@Model?.worker.Id">Просмотр</a>
                        </h5>
                    </td>
                </tr>
            </tbody>
        </table>

            <div style="background-color: white; height:200px;overflow-y: scroll; border: 1px solid rgb(150,150,150);">

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.medicalBooks.First().placeExam)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.medicalBooks.First().dateExam)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.medicalBooks.First().conclusion)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.medicalBooks)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.placeExam)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.dateExam)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.conclusion)
                        </td>
                        @if (User.IsInRole("admin") || User.IsInRole("multiAdmin"))
                        {
                            <td>
                                <a asp-controller="MedicalBooks" asp-action="Edit" asp-route-id="@item.Id">Изменить</a> |
                                <a asp-controller="MedicalBooks" asp-action="Details" asp-route-id="@item.Id">Подробнее</a> |
                                <a asp-controller="MedicalBooks" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                            </td>
                        }
                        else
                        {

                        }
                    </tr>
                }
            </tbody>
        </table>
        </div>

   
</div>
</br>
<div style="margin-top:30px;">

    <a asp-action="Index">Вернуться назад</a>
</div>

@section Scripts {

    <script>
        $(document).ready(function () {
            $('#summernote').summernote({
                height: 200,
                disableDragAndDrop: true

            });
            $('#summernote').summernote('disable');
        });
    </script>

}